{% import "mols/tb_fields.html" as tf %}
{% macro user_row(user, fields) -%}
  <tr id="user-{{ user.id }}"
      hx-get="/web/users/fragment/form?user_id={{ user.id }}"
      hx-target="#user-form-panel"
      hx-swap="innerHTML"
      style="cursor:pointer">
    {{ tf.tb_fields(user, fields) }}
    <td>
      <button class="btn btn-danger btn-sm"
              hx-delete="/web/users/{{ user.id }}"
              hx-target="#user-{{ user.id }}"
              hx-swap="outerHTML"
              hx-no-bubble>x</button>
    </td>
  </tr>
{%- endmacro %}
{{ user_row(user, cols) }}
