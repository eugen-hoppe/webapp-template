<form
  {% if user %}
    hx-put="/web/users/{{ user.id }}"
    hx-target="#user-{{ user.id }}" hx-swap="outerHTML"
  {% else %}
    hx-post="/web/users" hx-target="#user-tbody" hx-swap="beforeend"
  {% endif %}
  method="post" novalidate>
  {{ form.csrf_token }}

  <div class="mb-3">
    <label class="form-label">{{ form.username.label.text }}</label>
    {{ form.username(class_="form-control") }}
    {% if form.username.errors %}
      <div class="text-danger">{{ form.username.errors[0] }}</div>
    {% endif %}
  </div>

  <div class="mb-3">
    <label class="form-label">{{ form.email.label.text }}</label>
    {{ form.email(class_="form-control") }}
    {% if form.email.errors %}
      <div class="text-danger">{{ form.email.errors[0] }}</div>
    {% endif %}
  </div>

  <button class="btn btn-primary">Save</button>
</form>
